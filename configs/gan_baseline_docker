FROM tensorflow/tensorflow:1.13.1-gpu-py3

RUN apt-get update && apt-get install -y git protobuf-compiler python3-pil python3-matplotlib

RUN git clone https://github.com/P-Hidringer/NetNextGen

WORKDIR NetNextGen

RUN protoc protos/*.proto --python_out=.

CMD python3 train.py --pipeline_config_file /kw_resources/configs/gan_baseline.config --result_dir \
    /kw_resources/results/gan_baseline --num_train_steps 200000
#CMD python3 eval.py --checkpoint_dir /kw_resources/results/gan_baseline --all_checkpoints --use_gpu --split_name val